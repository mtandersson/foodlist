# Environment Variables for FoodList Backend
# Copy this file to backend/.env and adjust values as needed
# The backend uses godotenv to automatically load .env files

# Server Configuration
BIND_ADDR=localhost
PORT=8080

# Static Files (relative to backend directory)
STATIC_DIR=../frontend/dist

# Data Storage (directory where events.jsonl will be stored)
DATA_DIR=.

# Logging
# Options: "logfmt" (human-readable) or "json" (structured)
LOG_FORMAT=logfmt

# Security Configuration
# SHARED_SECRET: A secret path component (e.g., "my-secret-123")
# The application will be accessible at /<SHARED_SECRET>/
# If not set, the application is accessible at /
SHARED_SECRET=

# CIDR_WHITELIST: Comma-separated list of CIDR blocks for IP whitelisting
# Example: "192.168.1.0/24,10.0.0.0/8,172.16.0.0/12"
# IPs in this list can access / and /ws which redirect to /<SHARED_SECRET>/
# IPs not in this list get 404 on all paths except /<SHARED_SECRET>/
# If empty, no IP filtering is applied (everyone can access secret path)
CIDR_WHITELIST=

# PROXY_TRUST_COUNT: Number of proxies to trust when extracting client IP
# Default: 0 (don't trust any proxy headers, use RemoteAddr only - most secure)
# Set to 1 if behind a single reverse proxy (nginx, Apache, etc.)
# Set to 2 if behind two proxies (e.g., load balancer + reverse proxy)
# Only increase if you trust your proxy infrastructure
# WARNING: Setting this too high allows IP spoofing attacks via X-Forwarded-For header
PROXY_TRUST_COUNT=0

